(globalThis.webpackChunk_openmrs_esm_patient_immunizations_app=globalThis.webpackChunk_openmrs_esm_patient_immunizations_app||[]).push([[6724],{210:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(5836),a=t.n(r),i=t(8023),o=t.n(i)()(a());o.push([e.id,".-esm-patient-immunizations__immunizations-sequence-table__tableCell___wKcW5{padding:0 1.5rem !important}.-esm-patient-immunizations__immunizations-sequence-table__sequenceTable___-UEob{margin:.5rem 0}","",{version:3,sources:["webpack://./src/immunizations/components/immunizations-sequence-table.scss"],names:[],mappings:"AAEA,6EACE,2BAAA,CAGF,iFACE,cAAA",sourcesContent:["@use '@carbon/layout';\n\n.tableCell {\n  padding: 0 layout.$spacing-06 !important;\n}\n\n.sequenceTable {\n  margin: layout.$spacing-03 0;\n}\n"],sourceRoot:""}]),o.locals={tableCell:"-esm-patient-immunizations__immunizations-sequence-table__tableCell___wKcW5",sequenceTable:"-esm-patient-immunizations__immunizations-sequence-table__sequenceTable___-UEob"};const c=o},2184:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(5836),a=t.n(r),i=t(8023),o=t.n(i)()(a());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-patient-immunizations__immunizations-detailed-summary__widgetCard___qFFJo{border:1px solid #e0e0e0;background-color:#fff}.-esm-patient-immunizations__immunizations-detailed-summary__hiddenRow___9yEg8{display:none}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/immunizations/immunizations-detailed-summary.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,oGAAA,CACA,2GAAA,CCzDF,gFACE,wBAAA,CACA,qBDHM,CCMR,+EACE,YAAA",sourcesContent:["$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n  --bottom-nav-height: 4rem;\n  --workspace-header-height: 3rem;\n  --tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));\n  --desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height));\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n","@use '@openmrs/esm-styleguide/src/vars' as *;\n\n.widgetCard {\n  border: 1px solid $ui-03;\n  background-color: $ui-02;\n}\n\n.hiddenRow {\n  display: none;\n}\n"],sourceRoot:""}]),o.locals={widgetCard:"-esm-patient-immunizations__immunizations-detailed-summary__widgetCard___qFFJo",hiddenRow:"-esm-patient-immunizations__immunizations-detailed-summary__hiddenRow___9yEg8"};const c=o},818:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(5836),a=t.n(r),i=t(8023),o=t.n(i)()(a());o.push([e.id,":root{--brand-01: #005d5d;--brand-02: #004144;--brand-03: #007d79;--bottom-nav-height: 4rem;--workspace-header-height: 3rem;--tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));--desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height))}.-esm-patient-immunizations__immunizations-overview__widgetCard___-dZJa{border:1px solid #e0e0e0}.-esm-patient-immunizations__immunizations-overview__immunizationOverviewSummaryCard___FnG1n{margin:1.25rem 1.5rem}.-esm-patient-immunizations__immunizations-overview__immunizationMore___Xd5Aa{display:flex;align-items:center;border:none;padding:.625rem 1.625rem .625rem 1rem;background-color:var(--omrs-color-bg-medium-contrast);color:var(--omrs-color-ink-medium-contrast);cursor:pointer}.-esm-patient-immunizations__immunizations-overview__immunizationMore___Xd5Aa p{margin:0}","",{version:3,sources:["webpack://./../../node_modules/@openmrs/esm-styleguide/src/_vars.scss","webpack://./src/immunizations/immunizations-overview.scss"],names:[],mappings:"AAoDA,MACE,mBAAA,CACA,mBAAA,CACA,mBAAA,CACA,yBAAA,CACA,+BAAA,CACA,oGAAA,CACA,2GAAA,CCxDF,wEACE,wBAAA,CAGF,6FACE,qBAAA,CAGF,8EACE,YAAA,CACA,kBAAA,CACA,WAAA,CACA,qCAAA,CACA,qDAAA,CACA,2CAAA,CACA,cAAA,CAGF,gFACE,QAAA",sourcesContent:["$ui-01: #f4f4f4;\n$ui-02: #ffffff;\n$ui-03: #e0e0e0;\n$ui-04: #8d8d8d;\n$ui-05: #161616;\n$text-02: #525252;\n$text-03: #a8a8a8;\n$ui-background: #ffffff;\n$color-gray-30: #c6c6c6;\n$color-gray-70: #525252;\n$color-gray-100: #161616;\n$color-blue-60-2: #0f62fe;\n$color-blue-10: #edf5ff;\n$color-yellow-50: #feecae;\n$carbon--red-50: #fa4d56;\n$inverse-link: #78a9ff;\n$support-02: #24a148;\n$inverse-support-03: #f1c21b;\n$warning-background: #fff8e1;\n$openmrs-background-grey: #f4f4f4;\n$danger: #da1e28;\n$interactive-01: #0f62fe;\n$field-01: #f4f4f4;\n$grey-2: #e0e0e0;\n$labeldropdown: #c6c6c6;\n\n$brand-primary-10: #d9fbfb;\n$brand-primary-20: #9ef0f0;\n$brand-primary-30: #3ddbd9;\n$brand-primary-40: #08bdba;\n$brand-primary-50: #009d9a;\n\n/* 60,70 and 80 are already declared as brand-01, 02 and 03 respectively */\n\n$brand-primary-90: #022b30;\n$brand-primary-100: #081a1c;\n\n@mixin brand-01($property) {\n  #{$property}: #005d5d;\n  #{$property}: var(--brand-01);\n}\n\n@mixin brand-02($property) {\n  #{$property}: #004144;\n  #{$property}: var(--brand-02);\n}\n\n@mixin brand-03($property) {\n  #{$property}: #007d79;\n  #{$property}: var(--brand-03);\n}\n\n:root {\n  --brand-01: #005d5d;\n  --brand-02: #004144;\n  --brand-03: #007d79;\n  --bottom-nav-height: 4rem;\n  --workspace-header-height: 3rem;\n  --tablet-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--bottom-nav-height));\n  --desktop-workspace-window-height: calc(100vh - var(--omrs-navbar-height) - var(--workspace-header-height));\n}\n\n$breakpoint-phone-min: 0px;\n$breakpoint-phone-max: 600px;\n$breakpoint-tablet-min: 601px;\n$breakpoint-tablet-max: 1023px;\n$breakpoint-small-desktop-min: 1024px;\n$breakpoint-small-desktop-max: 1439px;\n$breakpoint-large-desktop-min: 1440px;\n$breakpoint-large-desktop-max: 99999999px;\n\n/* These color variables will be removed in a future release */\n$brand-teal-01: #007d79;\n$brand-01: #005d5d;\n$brand-02: #004144;\n","@use '@carbon/layout';\n@use '@openmrs/esm-styleguide/src/vars' as *;\n\n.widgetCard {\n  border: 1px solid $ui-03;\n}\n\n.immunizationOverviewSummaryCard {\n  margin: 1.25rem layout.$spacing-06;\n}\n\n.immunizationMore {\n  display: flex;\n  align-items: center;\n  border: none;\n  padding: 0.625rem 1.625rem 0.625rem layout.$spacing-05;\n  background-color: var(--omrs-color-bg-medium-contrast);\n  color: var(--omrs-color-ink-medium-contrast);\n  cursor: pointer;\n}\n\n.immunizationMore p {\n  margin: 0;\n}\n"],sourceRoot:""}]),o.locals={widgetCard:"-esm-patient-immunizations__immunizations-overview__widgetCard___-dZJa",immunizationOverviewSummaryCard:"-esm-patient-immunizations__immunizations-overview__immunizationOverviewSummaryCard___FnG1n",immunizationMore:"-esm-patient-immunizations__immunizations-overview__immunizationMore___Xd5Aa"};const c=o},4847:(e,n,t)=>{"use strict";t.d(n,{v:()=>o});var r=t(8254),a=t(8917),i=t(965);function o(e){var n="".concat(r.fhirBaseUrl,"/Immunization?patient=").concat(e),t=(0,a.Ay)(n,r.openmrsFetch),o=t.data,c=t.error,s=t.isLoading,u=t.isValidating,l=t.mutate;return{data:o?(0,i.q)(o.data):null,error:c,isLoading:s,isValidating:u,mutate:l}}},965:(e,n,t)=>{"use strict";t.d(n,{q:()=>h,D:()=>_});var r=t(9294),a=t(385),i=t(9271);const o=function(e,n,t,r){for(var a=-1,i=null==e?0:e.length;++a<i;){var o=e[a];n(r,o,t(o),e)}return r};var c=t(4045);const s=function(e,n,t,r){return(0,c.A)(e,(function(e,a,i){n(r,e,t(e),i)})),r};var u=t(8219),l=t(6956);var m=Object.prototype.hasOwnProperty;const d=(p=function(e,n,t){m.call(e,t)?e[t].push(n):(0,i.A)(e,t,[n])},function(e,n){var t=(0,l.A)(e)?o:s,r=b?b():{};return t(e,p,(0,u.A)(n,2),r)});var p,b;var v=t(4683),f=t(7499),A=function(e){var n,t,r,a=null==e?void 0:e.resource,i=null==a?void 0:a.id,o=null==a||null===(n=a.manufacturer)||void 0===n?void 0:n.display,c=null==a?void 0:a.lotNumber,s=(null==a||null===(t=a.protocolApplied)||void 0===t?void 0:t.length)>0&&(null==a?void 0:a.protocolApplied[0]);return{immunizationObsUuid:i,manufacturer:o,lotNumber:c,doseNumber:null==s?void 0:s.doseNumberPositiveInt,occurrenceDateTime:null==a?void 0:a.occurrenceDateTime,expirationDate:null==a?void 0:a.expirationDate,visitUuid:(r=null==a?void 0:a.encounter,r.reference.split("/")[1])}},g=function(e){var n;return(0,r.A)(null==e||null===(n=e.vaccineCode)||void 0===n?void 0:n.coding,(function(e){return void 0===e.system}))},h=function(e){var n=d(e.entry,(function(e){var n;return null===(n=g(e.resource))||void 0===n?void 0:n.code}));return(0,v.A)(n,(function(e){var n,t=(0,v.A)(e,A),r=g(null===(n=e[0])||void 0===n?void 0:n.resource);return{vaccineName:null==r?void 0:r.display,vaccineUuid:null==r?void 0:r.code,existingDoses:(0,f.A)(t,[function(e){return(0,a.A)(e,"occurrenceDateTime")}],["desc"])}}))};function y(e,n){return{type:e,reference:"".concat(e,"/").concat(n)}}var _=function(e,n,t,r){return{resourceType:"Immunization",status:"completed",id:e.immunizationId,vaccineCode:{coding:[{code:e.vaccineUuid,display:e.vaccineName}]},patient:y("Patient",e.patientUuid),encounter:y("Encounter",n),occurrenceDateTime:e.vaccinationDate,expirationDate:e.expirationDate,location:y("Location",t),performer:[{actor:y("Practitioner",r)}],manufacturer:{display:e.manufacturer},lotNumber:e.lotNumber,protocolApplied:[{doseNumberPositiveInt:e.doseNumber,series:null}]}}},7579:(e,n,t)=>{"use strict";t.d(n,{RA:()=>i,xS:()=>o,yM:()=>c});var r=t(4683),a=t(9294),i=new(t(3214).BehaviorSubject)(null),o=function(e,n){return(0,r.A)(e,(function(e){var t=(0,a.A)(n,(function(n){return n.vaccineConceptUuid===e.vaccineUuid}));return e.sequences=(null==t?void 0:t.sequences)||[],e}))},c=function(e,n){return new Date(n.occurrenceDateTime).getTime()-new Date(e.occurrenceDateTime).getTime()}},6724:(e,n,t)=>{"use strict";t.r(n),t.d(n,{immunizationFormWorkspace:()=>le,immunizationsDashboardLink:()=>ue,immunizationsDetailedSummary:()=>se,immunizationsOverview:()=>ce,importTranslation:()=>re,startupApp:()=>ae});var r=t(8254),a=t(7223),i={immunizationsConfig:{immunizationConceptSet:{_type:r.Type.String,_default:"CIEL:984",_description:"A uuid or concept mapping which will have all the possible vaccines as set-members."},sequenceDefinitions:{_type:r.Type.Array,_description:"Doses/Schedules definitions for each vaccine configured if applicable. If not provided the vaccine would be treated as a vaccine without schedules",_elements:{vaccineConceptUuid:{_type:r.Type.UUID,_description:"The UUID of the individual vaccine concept"},sequences:{_type:r.Type.Array,_elements:{sequenceLabel:{_type:r.Type.String,_description:"Name of the dose/booster/schedule.. This will be used as a translation key as well."},sequenceNumber:{_type:r.Type.Number,_description:"The dose number in the vaccines. Convention for doses is [1...9] and for boosters is [11...19]"}}}},_default:[{vaccineConceptUuid:"783AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA",sequences:[{sequenceLabel:"Dose-1",sequenceNumber:1},{sequenceLabel:"Dose-2",sequenceNumber:2},{sequenceLabel:"Dose-3",sequenceNumber:3},{sequenceLabel:"Dose-4",sequenceNumber:4},{sequenceLabel:"Booster-1",sequenceNumber:11},{sequenceLabel:"Booster-2",sequenceNumber:12}]}]}}},o=t(1343),c=t.n(o),s=t(3373),u=t.n(s),l=t(3150),m=t(9009),d=t(111),p=t.n(d),b=t(5660),v=t.n(b),f=t(3824),A=t.n(f),g=t(8823),h=t.n(g),y=t(6747),_=t.n(y),w=t(4072),k=t.n(w),$=t(818),C={};C.styleTagTransform=k(),C.setAttributes=h(),C.insert=A().bind(null,"head"),C.domAPI=v(),C.insertStyleElement=_(),p()($.A,C);const z=$.A&&$.A.locals?$.A.locals:void 0;var E=t(4847);function D(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function O(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){D(e,n,t[n])}))}return e}var j=t(2184),x={};x.styleTagTransform=k(),x.setAttributes=h(),x.insert=A().bind(null,"head"),x.domAPI=v(),x.insertStyleElement=_(),p()(j.A,x);const P=j.A&&j.A.locals?j.A.locals:void 0;var T=t(7579),S=t(7499),N=t(385),q=t(5632),I=t(7576),U=t(1697),L=t(6956),F=t(1475),B=t(5821),M=t(1140),R=t(7283),V=Object.prototype.hasOwnProperty;const H=function(e){if(null==e)return!0;if((0,F.A)(e)&&((0,L.A)(e)||"string"==typeof e||"function"==typeof e.splice||(0,B.A)(e)||(0,R.A)(e)||(0,U.A)(e)))return!e.length;var n=(0,I.A)(e);if("[object Map]"==n||"[object Set]"==n)return!e.size;if((0,M.A)(e))return!(0,q.A)(e).length;for(var t in e)if(V.call(e,t))return!1;return!0},K=function(e){return e&&e.length?e[0]:void 0};var G=t(210),J={};J.styleTagTransform=k(),J.setAttributes=h(),J.insert=A().bind(null,"head"),J.domAPI=v(),J.insertStyleElement=_(),p()(G.A,J);const W=G.A&&G.A.locals?G.A.locals:void 0;function X(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}const Z=function(e){var n=e.immunizationsByVaccine,t=e.launchPatientImmunizationForm,a=(0,l.useTranslation)().t,i=n.existingDoses,s=n.sequences,u=n.vaccineUuid,d=(0,o.useMemo)((function(){return[{key:"sequence",header:s.length?a("sequence","Sequence"):a("doseNumber","Dose number")},{key:"vaccinationDate",header:a("vaccinationDate","Vaccination date")},{key:"expirationDate",header:a("expirationDate","Expiration date")},{key:"edit",header:""}]}),[a,s.length]),p=null==i?void 0:i.map((function(e){return{id:null==e?void 0:e.immunizationObsUuid,sequence:H(s)?e.doseNumber||0:(null==s?void 0:s.find((function(n){return n.sequenceNumber===e.doseNumber})).sequenceLabel)||e.doseNumber,vaccinationDate:(null==e?void 0:e.occurrenceDateTime)&&(0,r.formatDate)(new Date(e.occurrenceDateTime)),expirationDate:(null==e?void 0:e.expirationDate)&&(0,r.formatDate)(new Date(e.expirationDate),{noToday:!0}),edit:c().createElement(m.$nd,{kind:"ghost",iconDescription:a("edit","Edit"),renderIcon:function(e){return c().createElement(r.EditIcon,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){X(e,n,t[n])}))}return e}({size:16},e))},onClick:function(){T.RA.next({vaccineUuid:u,immunizationId:e.immunizationObsUuid,vaccinationDate:e.occurrenceDateTime&&(0,r.parseDate)(e.occurrenceDateTime),doseNumber:e.doseNumber,expirationDate:e.expirationDate&&(0,r.parseDate)(e.expirationDate),lotNumber:e.lotNumber,manufacturer:e.manufacturer,visitId:e.visitUuid}),t()}},a("edit","Edit"))}}));return p.length>0&&c().createElement(m.bQt,{rows:p,headers:d,useZebraStyles:!0},(function(e){var n=e.rows,t=e.headers,r=e.getHeaderProps,a=e.getTableProps;return c().createElement(m.K3K,{className:W.sequenceTable},c().createElement(m.XIK,a(),c().createElement(m.ndF,null,c().createElement(m.Hjg,null,t.map((function(e){return c().createElement(m.A0N,r({header:e}),e.header)})))),c().createElement(m.BFY,null,n.map((function(e){return c().createElement(m.Hjg,{key:e.id},e.cells.map((function(e){return c().createElement(m.nA6,{key:null==e?void 0:e.id,className:W.tableCell},null==e?void 0:e.value)})))})))))}))};function Y(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Q(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Y(e,n,t[n])}))}return e}function ee(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var ne="@openmrs/esm-patient-immunizations-app",te={featureName:"patient-immunizations",moduleName:ne},re=t(4767);function ae(){(0,r.defineConfigSchema)(ne,i)}var ie,oe,ce=(0,r.getSyncLifecycle)((function(e){e.patient;var n=e.patientUuid,t=e.basePath,i=(0,l.useTranslation)().t,o=i("immunizations__lower","immunizations"),s=i("immunizations","Immunizations"),d=i("seeAll","See all"),p=window.spaBase+t+"/immunizations",b=(0,E.v)(n),v=b.data,f=b.error,A=b.isLoading,g=b.isValidating,h=(0,r.usePagination)(null!=v?v:[],5),y=h.results,_=h.goTo,w=h.currentPage,k=c().useCallback((function(){return(0,a.launchPatientWorkspace)("immunization-form-workspace")}),[]),$=[{key:"vaccineName",header:i("recentVaccination","Recent vaccination")},{key:"vaccinationDate",header:i("vaccinationDate","Vaccination date")}],C=c().useMemo((function(){return null==y?void 0:y.map((function(e,n){return function(e,n){return n=null!=n?n:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):function(e){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n.push.apply(n,t)}return n}(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})),e}(O({},e),{id:"".concat(n),vaccineName:e.vaccineName,vaccinationDate:"".concat((0,r.formatDate)((0,r.parseDate)(e.existingDoses[0].occurrenceDateTime),{day:!1,time:!1}))})}))}),[y]);return A?c().createElement(m.OOb,{role:"progressbar"}):f?c().createElement(a.ErrorState,{error:f,headerTitle:s}):(null==v?void 0:v.length)?c().createElement("div",{className:z.widgetCard},c().createElement(a.CardHeader,{title:s},c().createElement("span",null,g?c().createElement(m.OuH,null):null),c().createElement(m.$nd,{kind:"ghost",renderIcon:function(e){return c().createElement(r.AddIcon,O({size:16},e))},iconDescription:"Add immunizations",onClick:k},i("add","Add"))),c().createElement(m.bQt,{headers:$,rows:C,isSortable:!0,size:"sm",useZebraStyles:!0},(function(e){var n=e.rows,t=e.headers,r=e.getHeaderProps,a=e.getTableProps;return c().createElement(m.K3K,null,c().createElement(m.XIK,a(),c().createElement(m.ndF,null,c().createElement(m.Hjg,null,t.map((function(e){var n,t;return c().createElement(m.A0N,O({className:u()(z.productiveHeading01,z.text02)},r({header:e,isSortable:e.isSortable})),null!==(t=null===(n=e.header)||void 0===n?void 0:n.content)&&void 0!==t?t:e.header)})))),c().createElement(m.BFY,null,n.map((function(e){return c().createElement(m.Hjg,{key:e.id},e.cells.map((function(e){var n,t;return c().createElement(m.nA6,{key:e.id},null!==(t=null===(n=e.value)||void 0===n?void 0:n.content)&&void 0!==t?t:e.value)})))})))))})),c().createElement(a.PatientChartPagination,{currentItems:y.length,onPageNumberChange:function(e){var n=e.page;return _(n)},pageNumber:w,pageSize:5,totalItems:v.length,dashboardLinkUrl:p,dashboardLinkLabel:d})):c().createElement(a.EmptyState,{displayText:o,headerTitle:s,launchForm:k})}),te),se=(0,r.getSyncLifecycle)((function(e){var n=e.patientUuid,t=e.launchStartVisitPrompt,i=(0,l.useTranslation)(),s=i.t,u=i.i18n,d=(0,r.useConfig)().immunizationsConfig,p=s("immunizations__lower","immunizations"),b=s("immunizations","Immunizations"),v=u.language.replace("_","-"),f=window.getOpenmrsSpaBase()+"patient/".concat(n,"/chart"),A=s("goToSummary","Go to Summary"),g=(0,r.useVisit)(n).currentVisit,h="tablet"===(0,r.useLayoutType)(),y=null==d?void 0:d.sequenceDefinitions,_=(0,E.v)(n),w=_.data,k=_.isLoading,$=_.error,C=_.isValidating,z=(0,T.xS)(w,y),D=c().useCallback((function(){g?(0,a.launchPatientWorkspace)("immunization-form-workspace"):t()}),[g,t]),O=(0,S.A)(z,[function(e){return(0,N.A)(e,"existingDoses.length",0)}],["desc"]),j=(0,o.useMemo)((function(){return[{key:"vaccine",header:s("vaccine","Vaccine")},{key:"recentVaccination",header:s("recentVaccination","Recent vaccination")},{key:"add",header:""}]}),[s]),x=(0,o.useMemo)((function(){return null==O?void 0:O.map((function(e){var n,t,a,i=H(e.sequences)&&!H(e.existingDoses)?"".concat(s("singleDoseOn","Single Dose on")," ").concat(new Date(null===(n=K(e.existingDoses.sort(T.yM)))||void 0===n?void 0:n.occurrenceDateTime).toLocaleDateString(v,{dateStyle:"medium"})):H(e.existingDoses)?"":"".concat(null===(t=K(null==e?void 0:e.sequences))||void 0===t?void 0:t.sequenceLabel," on ").concat(new Date(null===(a=K(e.existingDoses.sort(T.yM)))||void 0===a?void 0:a.occurrenceDateTime).toLocaleDateString(v,{dateStyle:"medium"})," ");return{id:e.vaccineUuid,vaccine:e.vaccineName,recentVaccination:i,add:c().createElement(m.$nd,{size:"sm",kind:"ghost",renderIcon:function(e){return c().createElement(r.AddIcon,Q({size:16},e))},iconDescription:"Add",hasIconOnly:!0,onClick:function(){T.RA.next({vaccineUuid:e.vaccineUuid,immunizationId:null,vaccinationDate:null,doseNumber:0,expirationDate:null,lotNumber:null,manufacturer:null}),D()}})}}))}),[O,s,v,D]),q=(0,r.usePagination)(x,10),I=q.results,U=q.currentPage,L=q.goTo;return k||!O?c().createElement(m.OOb,{role:"progressbar"}):$?c().createElement(a.ErrorState,{error:$,headerTitle:b}):(null==O?void 0:O.length)?c().createElement("div",{className:P.widgetCard},c().createElement(a.CardHeader,{title:b},c().createElement("span",null,C?c().createElement(m.OuH,null):null),c().createElement(m.$nd,{kind:"ghost",renderIcon:function(e){return c().createElement(r.AddIcon,Q({size:16},e))},iconDescription:"Add immunizations",onClick:D},s("add","Add"))),c().createElement(m.bQt,{rows:I,headers:j,size:h?"lg":"sm",useZebraStyles:!0},(function(e){var n=e.rows,t=e.headers,r=e.getHeaderProps,a=e.getRowProps,i=e.getTableProps,o=e.getExpandHeaderProps;return c().createElement(m.K3K,null,c().createElement(m.XIK,Q({"aria-label":"immunizations summary"},i()),c().createElement(m.ndF,null,c().createElement(m.Hjg,null,c().createElement(m.Uwq,Q({enableToggle:!0},o())),t.map((function(e){return c().createElement(m.A0N,r({header:e}),e.header)})))),c().createElement(m.BFY,null,n.map((function(e,n){return c().createElement(c().Fragment,{key:e.id},c().createElement(m.fZD,a({row:e}),e.cells.map((function(e){return c().createElement(m.nA6,{key:e.id},e.value)}))),e.isExpanded?c().createElement(m.cwJ,{colSpan:t.length+2},c().createElement(Z,{immunizationsByVaccine:O[n],launchPatientImmunizationForm:D})):c().createElement(m.cwJ,{className:P.hiddenRow,colSpan:t.length+2}))})))))})),c().createElement(a.PatientChartPagination,{totalItems:null==x?void 0:x.length,pageSize:10,onPageNumberChange:function(e){var n=e.page;return L(n)},pageNumber:U,currentItems:null==I?void 0:I.length,dashboardLinkUrl:f,dashboardLinkLabel:A})):c().createElement(a.EmptyState,{displayText:p,headerTitle:b,launchForm:D})}),te),ue=(0,r.getSyncLifecycle)((0,a.createDashboardLink)((ie=function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ee(e,n,t[n])}))}return e}({},{slot:"patient-chart-immunizations-dashboard-slot",path:"Immunizations",title:"Immunizations"}),oe=null!=(oe={moduleName:ne})?oe:{},Object.getOwnPropertyDescriptors?Object.defineProperties(ie,Object.getOwnPropertyDescriptors(oe)):function(e){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n.push.apply(n,t)}return n}(Object(oe)).forEach((function(e){Object.defineProperty(ie,e,Object.getOwnPropertyDescriptor(oe,e))})),ie)),te),le=(0,r.getAsyncLifecycle)((function(){return Promise.all([t.e(7038),t.e(947)]).then(t.bind(t,947))}),te)},4767:(e,n,t)=>{var r={"./am.json":[1197,1197],"./ar.json":[4132,4132],"./bn.json":[7159,7159],"./de.json":[4944,4944],"./en.json":[4300,4300],"./es.json":[3099,3099],"./fr.json":[4055,4055],"./he.json":[4652,4652],"./hi.json":[6840,6840],"./hi_IN.json":[5442,5442],"./id.json":[2690,2690],"./it.json":[9538,9538],"./km.json":[4335,4335],"./lg.json":[4618,4618],"./ne.json":[2146,2146],"./pt.json":[6679,6679],"./pt_BR.json":[4087,6468],"./qu.json":[5173,5173],"./ru_RU.json":[986,986],"./si.json":[6859,6859],"./sw.json":[9913,9913],"./sw_KE.json":[8618,8618],"./tr.json":[5241,5241],"./tr_TR.json":[9900,9900],"./uk.json":[723,723],"./uz.json":[3584,3584],"./vi.json":[9214,9214],"./zh.json":[5661,5661],"./zh_CN.json":[9879,9879]};function a(e){if(!t.o(r,e))return Promise.resolve().then((()=>{var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}));var n=r[e],a=n[0];return t.e(n[1]).then((()=>t(a)))}a.keys=()=>Object.keys(r),a.id=4767,e.exports=a},4045:(e,n,t)=>{"use strict";t.d(n,{A:()=>o});const r=function(e,n,t){for(var r=-1,a=Object(e),i=t(e),o=i.length;o--;){var c=i[++r];if(!1===n(a[c],c,a))break}return e};var a=t(7817);var i=t(1475);const o=(c=function(e,n){return e&&r(e,n,a.A)},function(e,n){if(null==e)return e;if(!(0,i.A)(e))return c(e,n);for(var t=e.length,r=-1,a=Object(e);++r<t&&!1!==n(a[r],r,a););return e});var c},699:(e,n,t)=>{"use strict";t.d(n,{A:()=>i});var r=t(4045),a=t(1475);const i=function(e,n){var t=-1,i=(0,a.A)(e)?Array(e.length):[];return(0,r.A)(e,(function(e,r,a){i[++t]=n(e,r,a)})),i}},9294:(e,n,t)=>{"use strict";t.d(n,{A:()=>s});var r=t(1235),a=t(7216),i=t(8219),o=t(3314),c=Math.max;const s=(0,r.A)((function(e,n,t){var r=null==e?0:e.length;if(!r)return-1;var s=null==t?0:(0,o.A)(t);return s<0&&(s=c(r+s,0)),(0,a.A)(e,(0,i.A)(n,3),s)}))},4683:(e,n,t)=>{"use strict";t.d(n,{A:()=>c});var r=t(5133),a=t(8219),i=t(699),o=t(6956);const c=function(e,n){return((0,o.A)(e)?r.A:i.A)(e,(0,a.A)(n,3))}},7499:(e,n,t)=>{"use strict";t.d(n,{A:()=>p});var r=t(5133),a=t(5841),i=t(8219),o=t(699);var c=t(8126),s=t(4089);const u=function(e,n){if(e!==n){var t=void 0!==e,r=null===e,a=e==e,i=(0,s.A)(e),o=void 0!==n,c=null===n,u=n==n,l=(0,s.A)(n);if(!c&&!l&&!i&&e>n||i&&o&&u&&!c&&!l||r&&o&&u||!t&&u||!a)return 1;if(!r&&!i&&!l&&e<n||l&&t&&a&&!r&&!i||c&&t&&a||!o&&a||!u)return-1}return 0};var l=t(4151),m=t(6956);const d=function(e,n,t){n=n.length?(0,r.A)(n,(function(e){return(0,m.A)(e)?function(n){return(0,a.A)(n,1===e.length?e[0]:e)}:e})):[l.A];var s=-1;return n=(0,r.A)(n,(0,c.A)(i.A)),function(e,n){var t=e.length;for(e.sort(n);t--;)e[t]=e[t].value;return e}((0,o.A)(e,(function(e,t,a){return{criteria:(0,r.A)(n,(function(n){return n(e)})),index:++s,value:e}})),(function(e,n){return function(e,n,t){for(var r=-1,a=e.criteria,i=n.criteria,o=a.length,c=t.length;++r<o;){var s=u(a[r],i[r]);if(s)return r>=c?s:s*("desc"==t[r]?-1:1)}return e.index-n.index}(e,n,t)}))},p=function(e,n,t,r){return null==e?[]:((0,m.A)(n)||(n=null==n?[]:[n]),t=r?void 0:t,(0,m.A)(t)||(t=null==t?[]:[t]),d(e,n,t))}}}]);