"use strict";(globalThis.webpackChunk_openmrs_esm_appointments_app=globalThis.webpackChunk_openmrs_esm_appointments_app||[]).push([[2923],{6941:(n,e,t)=>{t.d(e,{Z:()=>c});var o=t(5698),r=t.n(o),a=t(9613),l=t.n(a)()(r());l.push([n.id,".-esm-appointments__patient-appointments-cancel__modalHeader___yUwtk .cds--modal-close-button{position:absolute;inset-block-start:0;inset-inline-end:0;margin:0;margin-top:calc(-1 * 1rem)}.-esm-appointments__patient-appointments-cancel__modalHeader___yUwtk .cds--modal-close{background-color:rgba(0,0,0,0)}.-esm-appointments__patient-appointments-cancel__modalHeader___yUwtk .cds--modal-close:hover{background-color:var(--cds-layer-hover)}.-esm-appointments__patient-appointments-cancel__modalHeader___yUwtk .cds--popover--left>.cds--popover>.cds--popover-content{transform:translate(-4rem, 0.85rem)}.-esm-appointments__patient-appointments-cancel__modalHeader___yUwtk .cds--popover--left>.cds--popover>.cds--popover-caret{transform:translate(-3.75rem, 1.25rem)}","",{version:3,sources:["webpack://./src/patient-appointments/patient-appointments-cancel.scss"],names:[],mappings:"AAII,8FACE,iBAAA,CACA,mBAAA,CACA,kBAAA,CACA,QAAA,CACA,0BAAA,CAGF,uFACE,8BAAA,CAEA,6FACE,uCAAA,CAIJ,6HACE,mCAAA,CAGF,2HACE,sCAAA",sourcesContent:["@use '@carbon/layout';\n\n.modalHeader {\n  :global {\n    .cds--modal-close-button {\n      position: absolute;\n      inset-block-start: 0;\n      inset-inline-end: 0;\n      margin: 0;\n      margin-top: calc(-1 * #{layout.$spacing-05});\n    }\n\n    .cds--modal-close {\n      background-color: rgba(0, 0, 0, 0);\n\n      &:hover {\n        background-color: var(--cds-layer-hover);\n      }\n    }\n\n    .cds--popover--left > .cds--popover > .cds--popover-content {\n      transform: translate(-4rem, 0.85rem);\n    }\n\n    .cds--popover--left > .cds--popover > .cds--popover-caret {\n      transform: translate(-3.75rem, 1.25rem);\n    }\n  }\n}\n"],sourceRoot:""}]),l.locals={modalHeader:"-esm-appointments__patient-appointments-cancel__modalHeader___yUwtk"};const c=l},2923:(n,e,t)=>{t.r(e),t.d(e,{default:()=>S});var o=t(268),r=t.n(o),a=t(4924),l=t(3531),c=t(7234),s=t(8527),i=t(6062),p=t.n(i),u=t(4036),m=t.n(u),d=t(6793),f=t.n(d),A=t(7892),b=t.n(A),_=t(1173),y=t.n(_),v=t(2464),h=t.n(v),C=t(6941),k={};k.styleTagTransform=h(),k.setAttributes=b(),k.insert=f().bind(null,"head"),k.domAPI=m(),k.insertStyleElement=y(),p()(C.Z,k);const w=C.Z&&C.Z.locals?C.Z.locals:void 0;function g(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,o=new Array(e);t<e;t++)o[t]=n[t];return o}function E(n,e,t,o,r,a,l){try{var c=n[a](l),s=c.value}catch(n){return void t(n)}c.done?e(s):Promise.resolve(s).then(o,r)}const S=function(n){var e,t,i,p,u=n.closeCancelModal,m=n.appointmentUuid,d=n.patientUuid,f=(0,a.useTranslation)().t,A=(0,s.W)(d,(new Date).toUTCString(),new AbortController).mutate,b=(i=(0,o.useState)(!1),p=2,function(n){if(Array.isArray(n))return n}(i)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var o,r,a=[],l=!0,c=!1;try{for(t=t.call(n);!(l=(o=t.next()).done)&&(a.push(o.value),!e||a.length!==e);l=!0);}catch(n){c=!0,r=n}finally{try{l||null==t.return||t.return()}finally{if(c)throw r}}return a}}(i,p)||function(n,e){if(n){if("string"==typeof n)return g(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?g(n,e):void 0}}(i,p)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),_=b[0],y=b[1],v=(e=function(){return function(n,e){var t,o,r,a,l={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return a={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function c(a){return function(c){return function(a){if(t)throw new TypeError("Generator is already executing.");for(;l;)try{if(t=1,o&&(r=2&a[0]?o.return:a[0]?o.throw||((r=o.return)&&r.call(o),0):o.next)&&!(r=r.call(o,a[1])).done)return r;switch(o=0,r&&(a=[2&a[0],r.value]),a[0]){case 0:case 1:r=a;break;case 4:return l.label++,{value:a[1],done:!1};case 5:l.label++,o=a[1],a=[0];continue;case 7:a=l.ops.pop(),l.trys.pop();continue;default:if(!((r=(r=l.trys).length>0&&r[r.length-1])||6!==a[0]&&2!==a[0])){l=0;continue}if(3===a[0]&&(!r||a[1]>r[0]&&a[1]<r[3])){l.label=a[1];break}if(6===a[0]&&l.label<r[1]){l.label=r[1],r=a;break}if(r&&l.label<r[2]){l.label=r[2],l.ops.push(a);break}r[2]&&l.ops.pop(),l.trys.pop();continue}a=e.call(n,l)}catch(n){a=[6,n],o=0}finally{t=r=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}(this,(function(n){return y(!0),(0,s.q)("Cancelled",m).then((function(n){200===n.status&&(A(),u(),(0,c.showSnackbar)({isLowContrast:!0,kind:"success",subtitle:f("appointmentCancelledSuccessfully","Appointment cancelled successfully"),title:f("appointmentCancelled","Appointment cancelled")}))})).catch((function(n){var e;(0,c.showSnackbar)({title:f("appointmentCancelError","Error cancelling appointment"),kind:"error",isLowContrast:!0,subtitle:null===(e=n)||void 0===e?void 0:e.message})})),[2]}))},t=function(){var n=this,t=arguments;return new Promise((function(o,r){var a=e.apply(n,t);function l(n){E(a,o,r,l,c,"next",n)}function c(n){E(a,o,r,l,c,"throw",n)}l(void 0)}))},function(){return t.apply(this,arguments)});return r().createElement("div",null,r().createElement(l.xBx,{className:w.modalHeader,closeModal:u,title:f("cancelAppointment","Cancel appointment")}),r().createElement(l.fef,null,r().createElement("p",null,f("cancelAppointmentModalConfirmationText","Are you sure you want to cancel this appointment?"))),r().createElement(l.mzw,null,r().createElement(l.zxk,{kind:"secondary",onClick:u},f("discard","Discard")),r().createElement(l.zxk,{kind:"danger",onClick:v,disabled:_},f("cancelAppointment","Cancel appointment"))))}}}]);