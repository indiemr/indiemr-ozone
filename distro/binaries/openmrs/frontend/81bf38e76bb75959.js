"use strict";(self.webpackChunkopenmrs=self.webpackChunkopenmrs||[]).push([[114,7733],{40114:(e,t,r)=>{r.r(t),r.d(t,{default:()=>z,infinite:()=>h,unstable_serialize:()=>k});var a=r(34227),n=r(35428),l=r(79192),s=r(41851),i=r(21632),o=r(74627);const c=()=>{},u=c(),f=Object,p=e=>e===u,d=new WeakMap,y=(e,t)=>f.prototype.toString.call(e)===`[object ${t}]`;let g=0;const b=e=>{const t=typeof e,r=y(e,"Date"),a=y(e,"RegExp"),n=y(e,"Object");let l,s;if(f(e)!==e||r||a)l=r?e.toJSON():"symbol"==t?e.toString():"string"==t?JSON.stringify(e):""+e;else{if(l=d.get(e),l)return l;if(l=++g+"~",d.set(e,l),Array.isArray(e)){for(l="@",s=0;s<e.length;s++)l+=b(e[s])+",";d.set(e,l)}if(n){l="#";const t=f.keys(e).sort();for(;!p(s=t.pop());)p(e[s])||(l+=s+":"+b(e[s])+",");d.set(e,l)}}return l},_=e=>(e=>{if("function"==typeof e)try{e=e()}catch(t){e=""}const t=e;return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?b(e):"",t]})(e?e(0,null):null)[0],k=e=>s.q+_(e),m=Promise.resolve(),h=e=>(t,r,n)=>{const i=(0,a.useRef)(!1),{cache:c,initialSize:u=1,revalidateAll:f=!1,persistSize:p=!1,revalidateFirstPage:d=!0,revalidateOnMount:y=!1,parallel:g=!1}=n,[,,,b]=l.b.get(l.c);let k;try{k=_(t),k&&(k=s.q+k)}catch(e){}const[h,z,v]=(0,l.z)(c,k),S=(0,a.useCallback)((()=>(0,l.e)(h()._l)?u:h()._l),[c,k,u]);(0,o.useSyncExternalStore)((0,a.useCallback)((e=>k?v(k,(()=>{e()})):()=>{}),[c,k]),S,S);const w=(0,a.useCallback)((()=>{const e=h()._l;return(0,l.e)(e)?u:e}),[k,u]),C=(0,a.useRef)(w());(0,l.u)((()=>{i.current?k&&z({_l:p?C.current:w()}):i.current=!0}),[k,c]);const A=y&&!i.current,O=e(k,(async e=>{const a=h()._i,s=h()._r;z({_r:l.U});const i=[],o=w(),[u]=(0,l.z)(c,e),p=u().data,y=[];let _=null;for(let e=0;e<o;++e){const[o,u]=(0,l.s)(t(e,g?null:_));if(!o)break;const[k,m]=(0,l.z)(c,o);let h=k().data;const z=f||a||(0,l.e)(h)||d&&!e&&!(0,l.e)(p)||A||p&&!(0,l.e)(p[e])&&!n.compare(p[e],h);if(r&&("function"==typeof s?s(h,u):z)){const t=async()=>{if(o in b){const e=b[o];delete b[o],h=await e}else h=await r(u);m({data:h,_k:u}),i[e]=h};g?y.push(t):await t()}else i[e]=h;g||(_=h)}return g&&await Promise.all(y.map((e=>e()))),z({_i:l.U}),i}),n),j=(0,a.useCallback)((function(e,t){const r="boolean"==typeof t?{revalidate:t}:t||{},a=!1!==r.revalidate;return k?(a&&((0,l.e)(e)?z({_i:!0,_r:r.revalidate}):z({_i:!1,_r:r.revalidate})),arguments.length?O.mutate(e,{...r,revalidate:a}):O.mutate()):m}),[k,c]),P=(0,a.useCallback)((e=>{if(!k)return m;const[,r]=(0,l.z)(c,k);let a;if((0,l.a)(e)?a=e(w()):"number"==typeof e&&(a=e),"number"!=typeof a)return m;r({_l:a}),C.current=a;const n=[],[s]=(0,l.z)(c,k);let i=null;for(let e=0;e<a;++e){const[r]=(0,l.s)(t(e,i)),[a]=(0,l.z)(c,r),o=r?a().data:l.U;if((0,l.e)(o))return j(s().data);n.push(o),i=o}return j(n)}),[k,c,j,w]);return{size:w(),setSize:P,mutate:j,get data(){return O.data},get error(){return O.error},get isValidating(){return O.isValidating},get isLoading(){return O.isLoading}}},z=(0,i.Ht)(n.Ay,h)}}]);