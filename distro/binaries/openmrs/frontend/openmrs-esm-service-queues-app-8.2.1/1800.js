"use strict";(globalThis.webpackChunk_openmrs_esm_service_queues_app=globalThis.webpackChunk_openmrs_esm_service_queues_app||[]).push([[1800],{3657:(e,n,t)=>{t.d(n,{Z:()=>u});var r=t(5698),o=t.n(r),a=t(9613),s=t.n(a)()(o());s.push([e.id,".-esm-service-queues__queue-entry-confirm-action__modalHeader___iDuYd .cds--modal-close-button{position:absolute;inset-block-start:0;inset-inline-end:0;margin:0;margin-top:calc(-1 * 1rem)}.-esm-service-queues__queue-entry-confirm-action__modalHeader___iDuYd .cds--modal-close{background-color:rgba(0,0,0,0)}.-esm-service-queues__queue-entry-confirm-action__modalHeader___iDuYd .cds--modal-close:hover{background-color:var(--cds-layer-hover)}.-esm-service-queues__queue-entry-confirm-action__modalHeader___iDuYd .cds--popover--left>.cds--popover>.cds--popover-content{transform:translate(-4rem, 0.85rem)}.-esm-service-queues__queue-entry-confirm-action__modalHeader___iDuYd .cds--popover--left>.cds--popover>.cds--popover-caret{transform:translate(-3.75rem, 1.25rem)}","",{version:3,sources:["webpack://./src/queue-table/queue-entry-actions/queue-entry-confirm-action.scss"],names:[],mappings:"AAII,+FACE,iBAAA,CACA,mBAAA,CACA,kBAAA,CACA,QAAA,CACA,0BAAA,CAGF,wFACE,8BAAA,CAEA,8FACE,uCAAA,CAIJ,8HACE,mCAAA,CAGF,4HACE,sCAAA",sourcesContent:["@use '@carbon/layout';\n\n.modalHeader {\n  :global {\n    .cds--modal-close-button {\n      position: absolute;\n      inset-block-start: 0;\n      inset-inline-end: 0;\n      margin: 0;\n      margin-top: calc(-1 * #{layout.$spacing-05});\n    }\n\n    .cds--modal-close {\n      background-color: rgba(0, 0, 0, 0);\n\n      &:hover {\n        background-color: var(--cds-layer-hover);\n      }\n    }\n\n    .cds--popover--left > .cds--popover > .cds--popover-content {\n      transform: translate(-4rem, 0.85rem);\n    }\n\n    .cds--popover--left > .cds--popover > .cds--popover-caret {\n      transform: translate(-3.75rem, 1.25rem);\n    }\n  }\n}\n"],sourceRoot:""}]),s.locals={modalHeader:"-esm-service-queues__queue-entry-confirm-action__modalHeader___iDuYd"};const u=s},1800:(e,n,t)=>{t.r(n),t.d(n,{default:()=>i});var r=t(5206),o=t.n(r),a=t(4924),s=t(7702),u=t(4690);const i=function(e){var n=e.queueEntry,t=e.closeModal,r=(0,a.useTranslation)().t,i=o().createElement("p",null,r("confirmRemovePatientFromQueue","Are you sure you want to remove this patient from this queue?"));return o().createElement(u.Z,{queueEntry:n,closeModal:t,modalParams:{modalTitle:r("removePatientFromQueue","Remove patient from queue"),modalInstruction:i,submitButtonText:r("removePatient","Remove patient"),submitSuccessTitle:r("patientRemoved","Patient removed"),submitSuccessText:r("patientRemovedSuccessfully","Paient removed from queue successfully"),submitFailureTitle:r("patientRemovedFailed","Error removing patient from queue"),submitAction:function(e){return(0,s.zI)(e.uuid,{endedAt:(new Date).toISOString()})}}})}},7702:(e,n,t)=>{t.d(n,{VK:()=>s,hu:()=>u,rf:()=>o,zI:()=>a});var r=t(7234);function o(e,n){var t;return(0,r.openmrsFetch)("".concat(r.restBaseUrl,"/queue-entry/transition"),{method:"POST",headers:{"Content-Type":"application/json"},signal:null===(t=n)||void 0===t?void 0:t.signal,body:e})}function a(e,n,t){var o;return(0,r.openmrsFetch)("".concat(r.restBaseUrl,"/queue-entry/").concat(e),{method:"POST",headers:{"Content-Type":"application/json"},signal:null===(o=t)||void 0===o?void 0:o.signal,body:n})}function s(e,n){var t;return(0,r.openmrsFetch)("".concat(r.restBaseUrl,"/queue-entry/transition"),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:null===(t=n)||void 0===t?void 0:t.signal,body:e})}function u(e,n){var t;return(0,r.openmrsFetch)("".concat(r.restBaseUrl,"/queue-entry/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"},signal:null===(t=n)||void 0===t?void 0:t.signal})}},4690:(e,n,t)=>{t.d(n,{Z:()=>T});var r=t(5206),o=t.n(r),a=t(4924),s=t(9444),u=t(7234),i=t(1325),l=t(6062),c=t.n(l),m=t(4036),d=t.n(m),p=t(6793),v=t.n(p),f=t(7892),A=t.n(f),y=t(1173),_=t.n(y),b=t(2464),h=t.n(b),g=t(3657),C={};C.styleTagTransform=h(),C.setAttributes=A(),C.insert=v().bind(null,"head"),C.domAPI=d(),C.insertStyleElement=_(),c()(g.Z,C);const q=g.Z&&g.Z.locals?g.Z.locals:void 0;function E(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}const T=function(e){var n,t,l=e.queueEntry,c=e.closeModal,m=e.modalParams,d=(0,a.useTranslation)().t,p=(0,i.Qd)().mutateQueueEntries,v=m.modalTitle,f=m.modalInstruction,A=m.submitButtonText,y=m.submitSuccessTitle,_=m.submitSuccessText,b=m.submitFailureTitle,h=m.submitAction,g=(n=(0,r.useState)(!1),t=2,function(e){if(Array.isArray(e))return e}(n)||function(e,n){var t=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,a=[],s=!0,u=!1;try{for(t=t.call(e);!(s=(r=t.next()).done)&&(a.push(r.value),!n||a.length!==n);s=!0);}catch(e){u=!0,o=e}finally{try{s||null==t.return||t.return()}finally{if(u)throw o}}return a}}(n,t)||function(e,n){if(e){if("string"==typeof e)return E(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?E(e,n):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),C=g[0],T=g[1];return o().createElement(o().Fragment,null,o().createElement(s.xBx,{className:q.modalHeader,closeModal:c,title:v}),o().createElement(s.fef,null,o().createElement(s.Kqy,{gap:4},o().createElement("h5",null,l.display),f)),o().createElement(s.mzw,null,o().createElement(s.zxk,{kind:"secondary",onClick:c},d("cancel","Cancel")),o().createElement(s.zxk,{disabled:C,onClick:function(e){e.preventDefault(),T(!0),h(l).then((function(e){var n=e.status;if(!(n>=200&&n<300))throw{message:d("unexpectedServerResponse","Unexpected Server Response")};(0,u.showSnackbar)({isLowContrast:!0,title:y,kind:"success",subtitle:_}),p(),c()})).catch((function(e){var n;(0,u.showSnackbar)({title:b,kind:"error",subtitle:null===(n=e)||void 0===n?void 0:n.message})})).finally((function(){T(!1)}))}},A)))}}}]);