/*! For license information please see 1873.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_openmrs_esm_implementer_tools_app=globalThis.webpackChunk_openmrs_esm_implementer_tools_app||[]).push([[1873],{2173:(e,t,n)=>{var r=n(5776),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},u=r.useState,a=r.useEffect,s=r.useLayoutEffect,o=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=u({inst:{value:n,getSnapshot:t}}),i=r[0].inst,d=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&d({inst:i})}),[e,n,t]),a((function(){return c(i)&&d({inst:i}),e((function(){c(i)&&d({inst:i})}))}),[e]),o(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},1374:(e,t,n)=>{e.exports=n(2173)},9265:(e,t,n)=>{var r=n(5776),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},u=r.useState,a=r.useEffect,s=r.useLayoutEffect,o=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!i(e,n)}catch(e){return!0}}var d="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=u({inst:{value:n,getSnapshot:t}}),i=r[0].inst,d=r[1];return s((function(){i.value=n,i.getSnapshot=t,c(i)&&d({inst:i})}),[e,n,t]),a((function(){return c(i)&&d({inst:i}),e((function(){c(i)&&d({inst:i})}))}),[e]),o(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:d},8184:(e,t,n)=>{var r=n(5776),i=n(6358),u="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=i.useSyncExternalStore,s=r.useRef,o=r.useEffect,c=r.useMemo,d=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var f=s(null);if(null===f.current){var l={hasValue:!1,value:null};f.current=l}else l=f.current;f=c((function(){function e(e){if(!o){if(o=!0,a=e,e=r(e),void 0!==i&&l.hasValue){var t=l.value;if(i(t,e))return s=t}return s=e}if(t=s,u(a,e))return t;var n=r(e);return void 0!==i&&i(t,n)?t:(a=e,s=n)}var a,s,o=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,n,r,i]);var v=a(e,f[0],f[1]);return o((function(){l.hasValue=!0,l.value=v}),[v]),d(v),v}},6358:(e,t,n)=>{e.exports=n(9265)},5121:(e,t,n)=>{e.exports=n(8184)},8445:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(1230);const i=function(e){return(0,r.Z)(e,5)}},8403:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(3126),i=n(6812),u=n(4996),a=n(6575),s=n(6905),o=n(5008),c=n(9494),d=n(8485),f=Object.prototype.hasOwnProperty;const l=function(e){if(null==e)return!0;if((0,s.Z)(e)&&((0,a.Z)(e)||"string"==typeof e||"function"==typeof e.splice||(0,o.Z)(e)||(0,d.Z)(e)||(0,u.Z)(e)))return!e.length;var t=(0,i.Z)(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if((0,c.Z)(e))return!(0,r.Z)(e).length;for(var n in e)if(f.call(e,n))return!1;return!0}},988:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(8165);const i=function(e,t){return(0,r.Z)(e,t)}},9903:(e,t,n)=>{n.d(t,{Z:()=>v});var r=n(2363),i=n(8319),u=n(7106),a=n(9616),s=n(6205),o=n(5313),c=n(7275),d=n(199);const f=function(e,t,n,r){if(!(0,c.Z)(e))return e;for(var i=-1,u=(t=(0,s.Z)(t,e)).length,f=u-1,l=e;null!=l&&++i<u;){var v=(0,d.Z)(t[i]),E=n;if("__proto__"===v||"constructor"===v||"prototype"===v)return e;if(i!=f){var g=l[v];void 0===(E=r?r(g,v,l):void 0)&&(E=(0,c.Z)(g)?g:(0,o.Z)(t[i+1])?[]:{})}(0,a.Z)(l,v,E),l=l[v]}return e};var l=n(1325);const v=function(e,t){if(null==e)return{};var n=(0,r.Z)((0,l.Z)(e),(function(e){return[e]}));return t=(0,i.Z)(t),function(e,t,n){for(var r=-1,i=t.length,a={};++r<i;){var o=t[r],c=(0,u.Z)(e,o);n(c,o)&&f(a,(0,s.Z)(o,e),c)}return a}(e,n,(function(e,n){return t(e,n[0])}))}},7474:(e,t,n)=>{n.d(t,{Z:()=>u});var r=n(131),i=0;const u=function(e){var t=++i;return(0,r.Z)(e)+t}},7268:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(9946);const i=function(e,t){return null==e||(0,r.Z)(e,t)}},1588:(e,t,n)=>{n.d(t,{ZP:()=>o});var r=n(5776),i=n(1374),u=n(450);const a=r.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;throw"rejected"===e.status?e.reason:(e.status="pending",e.then((t=>{e.status="fulfilled",e.value=t}),(t=>{e.status="rejected",e.reason=t})),e)}),s={dedupe:!0},o=(u.OBJECT.defineProperty(u.SWRConfig,"defaultValue",{value:u.defaultConfig}),(0,u.withArgs)(((e,t,n)=>{const{cache:o,compare:c,suspense:d,fallbackData:f,revalidateOnMount:l,revalidateIfStale:v,refreshInterval:E,refreshWhenHidden:g,refreshWhenOffline:p,keepPreviousData:S}=n,[h,y,b,m]=u.SWRGlobalState.get(o),[R,Z]=(0,u.serialize)(e),V=(0,r.useRef)(!1),_=(0,r.useRef)(!1),w=(0,r.useRef)(R),U=(0,r.useRef)(t),T=(0,r.useRef)(n),O=()=>T.current,C=()=>O().isVisible()&&O().isOnline(),[L,D,I,k]=(0,u.createCacheHelper)(o,R),x=(0,r.useRef)({}).current,j=(0,u.isUndefined)(f)?n.fallback[R]:f,A=(e,t)=>{for(const n in x){const r=n;if("data"===r){if(!c(e[r],t[r])){if(!(0,u.isUndefined)(e[r]))return!1;if(!c(H,t[r]))return!1}}else if(t[r]!==e[r])return!1}return!0},F=(0,r.useMemo)((()=>{const e=!!R&&!!t&&((0,u.isUndefined)(l)?!O().isPaused()&&!d&&(!!(0,u.isUndefined)(v)||v):l),n=t=>{const n=(0,u.mergeObjects)(t);return delete n._k,e?{isValidating:!0,isLoading:!0,...n}:n},r=L(),i=k(),a=n(r),s=r===i?a:n(i);let o=a;return[()=>{const e=n(L());return A(e,o)?(o.data=e.data,o.isLoading=e.isLoading,o.isValidating=e.isValidating,o.error=e.error,o):(o=e,e)},()=>s]}),[o,R]),N=(0,i.useSyncExternalStore)((0,r.useCallback)((e=>I(R,((t,n)=>{A(n,t)||e()}))),[o,R]),F[0],F[1]),P=!V.current,W=h[R]&&h[R].length>0,M=N.data,z=(0,u.isUndefined)(M)?j:M,q=N.error,G=(0,r.useRef)(z),H=S?(0,u.isUndefined)(M)?G.current:M:z,Y=!(W&&!(0,u.isUndefined)(q))&&(P&&!(0,u.isUndefined)(l)?l:!O().isPaused()&&(d?!(0,u.isUndefined)(z)&&v:(0,u.isUndefined)(z)||v)),B=!!(R&&t&&P&&Y),J=(0,u.isUndefined)(N.isValidating)?B:N.isValidating,K=(0,u.isUndefined)(N.isLoading)?B:N.isLoading,Q=(0,r.useCallback)((async e=>{const t=U.current;if(!R||!t||_.current||O().isPaused())return!1;let r,i,a=!0;const s=e||{},o=!b[R]||!s.dedupe,d=()=>u.IS_REACT_LEGACY?!_.current&&R===w.current&&V.current:R===w.current,f={isValidating:!1,isLoading:!1},l=()=>{D(f)},v=()=>{const e=b[R];e&&e[1]===i&&delete b[R]},E={isValidating:!0};(0,u.isUndefined)(L().data)&&(E.isLoading=!0);try{if(o&&(D(E),n.loadingTimeout&&(0,u.isUndefined)(L().data)&&setTimeout((()=>{a&&d()&&O().onLoadingSlow(R,n)}),n.loadingTimeout),b[R]=[t(Z),(0,u.getTimestamp)()]),[r,i]=b[R],r=await r,o&&setTimeout(v,n.dedupingInterval),!b[R]||b[R][1]!==i)return o&&d()&&O().onDiscarded(R),!1;f.error=u.UNDEFINED;const e=y[R];if(!(0,u.isUndefined)(e)&&(i<=e[0]||i<=e[1]||0===e[1]))return l(),o&&d()&&O().onDiscarded(R),!1;const s=L().data;f.data=c(s,r)?s:r,o&&d()&&O().onSuccess(r,R,n)}catch(e){v();const t=O(),{shouldRetryOnError:n}=t;t.isPaused()||(f.error=e,o&&d()&&(t.onError(e,R,t),(!0===n||(0,u.isFunction)(n)&&n(e))&&(O().revalidateOnFocus&&O().revalidateOnReconnect&&!C()||t.onErrorRetry(e,R,t,(e=>{const t=h[R];t&&t[0]&&t[0](u.revalidateEvents.ERROR_REVALIDATE_EVENT,e)}),{retryCount:(s.retryCount||0)+1,dedupe:!0}))))}return a=!1,l(),!0}),[R,o]),X=(0,r.useCallback)(((...e)=>(0,u.internalMutate)(o,w.current,...e)),[]);if((0,u.useIsomorphicLayoutEffect)((()=>{U.current=t,T.current=n,(0,u.isUndefined)(M)||(G.current=M)})),(0,u.useIsomorphicLayoutEffect)((()=>{if(!R)return;const e=Q.bind(u.UNDEFINED,s);let t=0;const n=(0,u.subscribeCallback)(R,h,((n,r={})=>{if(n==u.revalidateEvents.FOCUS_EVENT){const n=Date.now();O().revalidateOnFocus&&n>t&&C()&&(t=n+O().focusThrottleInterval,e())}else if(n==u.revalidateEvents.RECONNECT_EVENT)O().revalidateOnReconnect&&C()&&e();else{if(n==u.revalidateEvents.MUTATE_EVENT)return Q();if(n==u.revalidateEvents.ERROR_REVALIDATE_EVENT)return Q(r)}}));return _.current=!1,w.current=R,V.current=!0,D({_k:Z}),Y&&((0,u.isUndefined)(z)||u.IS_SERVER?e():(0,u.rAF)(e)),()=>{_.current=!0,n()}}),[R]),(0,u.useIsomorphicLayoutEffect)((()=>{let e;function t(){const t=(0,u.isFunction)(E)?E(L().data):E;t&&-1!==e&&(e=setTimeout(n,t))}function n(){L().error||!g&&!O().isVisible()||!p&&!O().isOnline()?t():Q(s).then(t)}return t(),()=>{e&&(clearTimeout(e),e=-1)}}),[E,g,p,R]),(0,r.useDebugValue)(H),d&&(0,u.isUndefined)(z)&&R){if(!u.IS_REACT_LEGACY&&u.IS_SERVER)throw new Error("Fallback data is required when using suspense in SSR.");U.current=t,T.current=n,_.current=!1;const e=m[R];if(!(0,u.isUndefined)(e)){const t=X(e);a(t)}if(!(0,u.isUndefined)(q))throw q;{const e=Q(s);(0,u.isUndefined)(H)||(e.status="fulfilled",e.value=!0),a(e)}}return{mutate:X,get data(){return x.data=!0,H},get error(){return x.error=!0,q},get isValidating(){return x.isValidating=!0,J},get isLoading(){return x.isLoading=!0,K}}})))},668:(e,t,n)=>{n.d(t,{oR:()=>c});var r=n(5776),i=n(5121);const{useDebugValue:u}=r,{useSyncExternalStoreWithSelector:a}=i;let s=!1;const o=e=>e;function c(e,t=o,n){n&&!s&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),s=!0);const r=a(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return u(r),r}}}]);